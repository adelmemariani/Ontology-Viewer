{"id":"kSlH","dependencies":[{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/package.json","includedInParent":true,"mtime":1657025460978},{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/.babelrc","includedInParent":true,"mtime":1652294789738},{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/package.json","includedInParent":true,"mtime":1652294858703},{"name":"./createPatternBuilder","loc":{"line":1,"column":37},"parent":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","resolved":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/lib/codeGenerators/createPatternBuilder.js"}],"generated":{"js":"const n=require(\"./createPatternBuilder\");function r(n){let r=e(n);return new Function(\"options\",\"random\",r)}function e(r){let e=n(r);return`\\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\\n\\n  return {\\n    /**\\n     * Updates forces acting on a spring\\n     */\\n    update: function (spring) {\\n      var body1 = spring.from;\\n      var body2 = spring.to;\\n      var length = spring.length < 0 ? options.springLength : spring.length;\\n      ${e(\"var d{var} = body2.pos.{var} - body1.pos.{var};\",{indent:6})}\\n      var r = Math.sqrt(${e(\"d{var} * d{var}\",{join:\" + \"})});\\n\\n      if (r === 0) {\\n        ${e(\"d{var} = (random.nextDouble() - 0.5) / 50;\",{indent:8})}\\n        r = Math.sqrt(${e(\"d{var} * d{var}\",{join:\" + \"})});\\n      }\\n\\n      var d = r - length;\\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\\n\\n      ${e(\"body1.force.{var} += coefficient * d{var}\",{indent:6})};\\n      body1.springCount += 1;\\n      body1.springLength += r;\\n\\n      ${e(\"body2.force.{var} -= coefficient * d{var}\",{indent:6})};\\n      body2.springCount += 1;\\n      body2.springLength += r;\\n    }\\n  };\\n`}module.exports=r,module.exports.generateCreateSpringForceFunctionBody=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":1,"column":0},"generated":{"line":1,"column":6}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":1,"column":0},"generated":{"line":1,"column":8}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":1,"column":0},"generated":{"line":1,"column":16}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":6,"column":0},"generated":{"line":1,"column":42}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":6,"column":0},"generated":{"line":1,"column":51}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":6,"column":0},"generated":{"line":1,"column":53}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":7,"column":0},"generated":{"line":1,"column":56}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":7,"column":0},"generated":{"line":1,"column":60}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":7,"column":0},"generated":{"line":1,"column":62}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":7,"column":0},"generated":{"line":1,"column":64}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":67}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":74}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":78}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":87}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":8,"column":0},"generated":{"line":1,"column":106}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":11,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":11,"column":0},"generated":{"line":1,"column":118}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":11,"column":0},"generated":{"line":1,"column":120}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":12,"column":0},"generated":{"line":1,"column":123}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":12,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":12,"column":0},"generated":{"line":1,"column":129}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":12,"column":0},"generated":{"line":1,"column":131}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":46,"column":0},"generated":{"line":1,"column":134}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":25,"column":0},"generated":{"line":1,"column":602}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":25,"column":0},"generated":{"line":1,"column":604}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":25,"column":0},"generated":{"line":1,"column":654}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":25,"column":0},"generated":{"line":1,"column":655}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":25,"column":0},"generated":{"line":1,"column":662}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":26,"column":0},"generated":{"line":1,"column":694}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":26,"column":0},"generated":{"line":1,"column":696}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":26,"column":0},"generated":{"line":1,"column":714}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":26,"column":0},"generated":{"line":1,"column":715}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":26,"column":0},"generated":{"line":1,"column":720}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":29,"column":0},"generated":{"line":1,"column":766}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":29,"column":0},"generated":{"line":1,"column":768}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":29,"column":0},"generated":{"line":1,"column":813}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":29,"column":0},"generated":{"line":1,"column":814}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":29,"column":0},"generated":{"line":1,"column":821}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":30,"column":0},"generated":{"line":1,"column":851}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":30,"column":0},"generated":{"line":1,"column":853}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":30,"column":0},"generated":{"line":1,"column":871}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":30,"column":0},"generated":{"line":1,"column":872}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":30,"column":0},"generated":{"line":1,"column":877}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1047}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1049}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1093}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1094}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":36,"column":0},"generated":{"line":1,"column":1101}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":40,"column":0},"generated":{"line":1,"column":1181}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":40,"column":0},"generated":{"line":1,"column":1183}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":40,"column":0},"generated":{"line":1,"column":1227}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":40,"column":0},"generated":{"line":1,"column":1228}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":40,"column":0},"generated":{"line":1,"column":1235}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":3,"column":0},"generated":{"line":1,"column":1320}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":3,"column":0},"generated":{"line":1,"column":1327}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":3,"column":0},"generated":{"line":1,"column":1335}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":4,"column":0},"generated":{"line":1,"column":1337}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":4,"column":0},"generated":{"line":1,"column":1344}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":4,"column":0},"generated":{"line":1,"column":1352}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js","original":{"line":4,"column":0},"generated":{"line":1,"column":1390}}],"sources":{"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateCreateSpringForce.js":"const createPatternBuilder = require('./createPatternBuilder');\n\nmodule.exports = generateCreateSpringForceFunction;\nmodule.exports.generateCreateSpringForceFunctionBody = generateCreateSpringForceFunctionBody;\n\nfunction generateCreateSpringForceFunction(dimension) {\n  let code = generateCreateSpringForceFunctionBody(dimension);\n  return new Function('options', 'random', code);\n}\n\nfunction generateCreateSpringForceFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n  let code = `\n  if (!Number.isFinite(options.springCoefficient)) throw new Error('Spring coefficient is not a number');\n  if (!Number.isFinite(options.springLength)) throw new Error('Spring length is not a number');\n\n  return {\n    /**\n     * Updates forces acting on a spring\n     */\n    update: function (spring) {\n      var body1 = spring.from;\n      var body2 = spring.to;\n      var length = spring.length < 0 ? options.springLength : spring.length;\n      ${pattern('var d{var} = body2.pos.{var} - body1.pos.{var};', {indent: 6})}\n      var r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n\n      if (r === 0) {\n        ${pattern('d{var} = (random.nextDouble() - 0.5) / 50;', {indent: 8})}\n        r = Math.sqrt(${pattern('d{var} * d{var}', {join: ' + '})});\n      }\n\n      var d = r - length;\n      var coefficient = ((spring.coefficient > 0) ? spring.coefficient : options.springCoefficient) * d / r;\n\n      ${pattern('body1.force.{var} += coefficient * d{var}', {indent: 6})};\n      body1.springCount += 1;\n      body1.springLength += r;\n\n      ${pattern('body2.force.{var} -= coefficient * d{var}', {indent: 6})};\n      body2.springCount += 1;\n      body2.springLength += r;\n    }\n  };\n`;\n  return code;\n}\n"},"lineCount":null}},"error":null,"hash":"04ff6458f1bf67f715c9b95e1f6adab5","cacheData":{"env":{}}}