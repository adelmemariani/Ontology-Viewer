{"id":"jEX8","dependencies":[{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/package.json","includedInParent":true,"mtime":1657025460978},{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/.babelrc","includedInParent":true,"mtime":1652294789738},{"name":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/package.json","includedInParent":true,"mtime":1652294858703},{"name":"./createPatternBuilder","loc":{"line":5,"column":37},"parent":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","resolved":"/Users/memarian/Documents/ov/oeo-viewer/client/node_modules/ngraph.forcelayout/lib/codeGenerators/createPatternBuilder.js"}],"generated":{"js":"module.exports=e,module.exports.generateFunctionBody=i;const n=require(\"./createPatternBuilder\");function e(n){let e=i(n);return new Function(\"bodies\",\"settings\",\"random\",e)}function i(e){let i=n(e);return`\\n  var boundingBox = {\\n    ${i(\"min_{var}: 0, max_{var}: 0,\",{indent:4})}\\n  };\\n\\n  return {\\n    box: boundingBox,\\n\\n    update: updateBoundingBox,\\n\\n    reset: resetBoundingBox,\\n\\n    getBestNewPosition: function (neighbors) {\\n      var ${i(\"base_{var} = 0\",{join:\", \"})};\\n\\n      if (neighbors.length) {\\n        for (var i = 0; i < neighbors.length; ++i) {\\n          let neighborPos = neighbors[i].pos;\\n          ${i(\"base_{var} += neighborPos.{var};\",{indent:10})}\\n        }\\n\\n        ${i(\"base_{var} /= neighbors.length;\",{indent:8})}\\n      } else {\\n        ${i(\"base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;\",{indent:8})}\\n      }\\n\\n      var springLength = settings.springLength;\\n      return {\\n        ${i(\"{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,\",{indent:8})}\\n      };\\n    }\\n  };\\n\\n  function updateBoundingBox() {\\n    var i = bodies.length;\\n    if (i === 0) return; // No bodies - no borders.\\n\\n    ${i(\"var max_{var} = -Infinity;\",{indent:4})}\\n    ${i(\"var min_{var} = Infinity;\",{indent:4})}\\n\\n    while(i--) {\\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\\n      var bodyPos = bodies[i].pos;\\n      ${i(\"if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};\",{indent:6})}\\n      ${i(\"if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};\",{indent:6})}\\n    }\\n\\n    ${i(\"boundingBox.min_{var} = min_{var};\",{indent:4})}\\n    ${i(\"boundingBox.max_{var} = max_{var};\",{indent:4})}\\n  }\\n\\n  function resetBoundingBox() {\\n    ${i(\"boundingBox.min_{var} = boundingBox.max_{var} = 0;\",{indent:4})}\\n  }\\n`}"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":2,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":2,"column":0},"generated":{"line":1,"column":7}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":2,"column":0},"generated":{"line":1,"column":15}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":3,"column":0},"generated":{"line":1,"column":17}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":3,"column":0},"generated":{"line":1,"column":24}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":3,"column":0},"generated":{"line":1,"column":32}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":3,"column":0},"generated":{"line":1,"column":53}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":5,"column":0},"generated":{"line":1,"column":55}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":5,"column":0},"generated":{"line":1,"column":61}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":5,"column":0},"generated":{"line":1,"column":63}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":5,"column":0},"generated":{"line":1,"column":71}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":7,"column":0},"generated":{"line":1,"column":97}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":7,"column":0},"generated":{"line":1,"column":106}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":7,"column":0},"generated":{"line":1,"column":108}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":8,"column":0},"generated":{"line":1,"column":111}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":8,"column":0},"generated":{"line":1,"column":115}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":8,"column":0},"generated":{"line":1,"column":117}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":8,"column":0},"generated":{"line":1,"column":119}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":122}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":129}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":133}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":142}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":151}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":162}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":171}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":12,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":12,"column":0},"generated":{"line":1,"column":183}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":12,"column":0},"generated":{"line":1,"column":185}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":13,"column":0},"generated":{"line":1,"column":188}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":13,"column":0},"generated":{"line":1,"column":192}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":13,"column":0},"generated":{"line":1,"column":194}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":13,"column":0},"generated":{"line":1,"column":196}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":70,"column":0},"generated":{"line":1,"column":199}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":17,"column":0},"generated":{"line":1,"column":237}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":17,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":17,"column":0},"generated":{"line":1,"column":269}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":17,"column":0},"generated":{"line":1,"column":270}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":17,"column":0},"generated":{"line":1,"column":277}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":28,"column":0},"generated":{"line":1,"column":454}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":28,"column":0},"generated":{"line":1,"column":456}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":28,"column":0},"generated":{"line":1,"column":473}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":28,"column":0},"generated":{"line":1,"column":474}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":28,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":33,"column":0},"generated":{"line":1,"column":635}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":33,"column":0},"generated":{"line":1,"column":637}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":33,"column":0},"generated":{"line":1,"column":672}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":33,"column":0},"generated":{"line":1,"column":673}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":33,"column":0},"generated":{"line":1,"column":680}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":36,"column":0},"generated":{"line":1,"column":710}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":36,"column":0},"generated":{"line":1,"column":712}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":36,"column":0},"generated":{"line":1,"column":746}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":36,"column":0},"generated":{"line":1,"column":747}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":36,"column":0},"generated":{"line":1,"column":754}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":38,"column":0},"generated":{"line":1,"column":786}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":38,"column":0},"generated":{"line":1,"column":788}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":38,"column":0},"generated":{"line":1,"column":856}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":38,"column":0},"generated":{"line":1,"column":857}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":38,"column":0},"generated":{"line":1,"column":864}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":43,"column":0},"generated":{"line":1,"column":956}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":43,"column":0},"generated":{"line":1,"column":958}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":43,"column":0},"generated":{"line":1,"column":1024}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":43,"column":0},"generated":{"line":1,"column":1025}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":43,"column":0},"generated":{"line":1,"column":1032}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":52,"column":0},"generated":{"line":1,"column":1186}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":52,"column":0},"generated":{"line":1,"column":1188}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":52,"column":0},"generated":{"line":1,"column":1217}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":52,"column":0},"generated":{"line":1,"column":1218}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":52,"column":0},"generated":{"line":1,"column":1225}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1237}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1239}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1267}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1268}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":53,"column":0},"generated":{"line":1,"column":1275}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":58,"column":0},"generated":{"line":1,"column":1441}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":58,"column":0},"generated":{"line":1,"column":1443}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":58,"column":0},"generated":{"line":1,"column":1503}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":58,"column":0},"generated":{"line":1,"column":1504}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":58,"column":0},"generated":{"line":1,"column":1511}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1525}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1527}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1587}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1588}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":59,"column":0},"generated":{"line":1,"column":1595}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1616}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1618}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1655}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1656}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":62,"column":0},"generated":{"line":1,"column":1663}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":63,"column":0},"generated":{"line":1,"column":1675}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":63,"column":0},"generated":{"line":1,"column":1677}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":63,"column":0},"generated":{"line":1,"column":1714}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":63,"column":0},"generated":{"line":1,"column":1715}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":63,"column":0},"generated":{"line":1,"column":1722}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1774}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1776}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1829}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1830}},{"source":"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js","original":{"line":67,"column":0},"generated":{"line":1,"column":1837}}],"sources":{"../node_modules/ngraph.forcelayout/lib/codeGenerators/generateBounds.js":"\nmodule.exports = generateBoundsFunction;\nmodule.exports.generateFunctionBody = generateBoundsFunctionBody;\n\nconst createPatternBuilder = require('./createPatternBuilder');\n\nfunction generateBoundsFunction(dimension) {\n  let code = generateBoundsFunctionBody(dimension);\n  return new Function('bodies', 'settings', 'random', code);\n}\n\nfunction generateBoundsFunctionBody(dimension) {\n  let pattern = createPatternBuilder(dimension);\n\n  let code = `\n  var boundingBox = {\n    ${pattern('min_{var}: 0, max_{var}: 0,', {indent: 4})}\n  };\n\n  return {\n    box: boundingBox,\n\n    update: updateBoundingBox,\n\n    reset: resetBoundingBox,\n\n    getBestNewPosition: function (neighbors) {\n      var ${pattern('base_{var} = 0', {join: ', '})};\n\n      if (neighbors.length) {\n        for (var i = 0; i < neighbors.length; ++i) {\n          let neighborPos = neighbors[i].pos;\n          ${pattern('base_{var} += neighborPos.{var};', {indent: 10})}\n        }\n\n        ${pattern('base_{var} /= neighbors.length;', {indent: 8})}\n      } else {\n        ${pattern('base_{var} = (boundingBox.min_{var} + boundingBox.max_{var}) / 2;', {indent: 8})}\n      }\n\n      var springLength = settings.springLength;\n      return {\n        ${pattern('{var}: base_{var} + (random.nextDouble() - 0.5) * springLength,', {indent: 8})}\n      };\n    }\n  };\n\n  function updateBoundingBox() {\n    var i = bodies.length;\n    if (i === 0) return; // No bodies - no borders.\n\n    ${pattern('var max_{var} = -Infinity;', {indent: 4})}\n    ${pattern('var min_{var} = Infinity;', {indent: 4})}\n\n    while(i--) {\n      // this is O(n), it could be done faster with quadtree, if we check the root node bounds\n      var bodyPos = bodies[i].pos;\n      ${pattern('if (bodyPos.{var} < min_{var}) min_{var} = bodyPos.{var};', {indent: 6})}\n      ${pattern('if (bodyPos.{var} > max_{var}) max_{var} = bodyPos.{var};', {indent: 6})}\n    }\n\n    ${pattern('boundingBox.min_{var} = min_{var};', {indent: 4})}\n    ${pattern('boundingBox.max_{var} = max_{var};', {indent: 4})}\n  }\n\n  function resetBoundingBox() {\n    ${pattern('boundingBox.min_{var} = boundingBox.max_{var} = 0;', {indent: 4})}\n  }\n`;\n  return code;\n}\n"},"lineCount":null}},"error":null,"hash":"ad7f82a707191b684e3d1c078fb270eb","cacheData":{"env":{}}}